<!DOCTYPE html>
<!-- saved from url=(0073)https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning -->
<html lang="en" class="pc chrome91 js"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width">
<link rel="dns-prefetch" href="https://fast.appcues.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="EguaI9xtnmP4xNaP2yMToSSnvI6U8VeMnswT4t5XtaXvD4IVNF0+a/IQAkPuls8Y3LJ9639jUEo3q2xUwJ3rbw==">
<title>AudioVis Codevember Part One: The Beginning by Rumyra on CodePen</title>
<link rel="stylesheet" media="all" href="./Audio-Vis-Files/global-42901a11fdeb8e3037fa8592b0daa21b2e7efdc6a736d9164be7857d2a03a34b.css">
<link rel="stylesheet" media="all" href="./Audio-Vis-Files/page-ba42421f4543007eeae11ddc4484cb1d5efa7ec9bbf148848d49e34c8004d008.css">
<link rel="stylesheet" media="screen" href="./Audio-Vis-Files/everypage-fbfd2350.css">
<link rel="stylesheet" media="screen" href="./Audio-Vis-Files/post-08c79b3fc6d4646cd3cb43828c8401479bfdcd499dbc657c1c7d175ec883a09b.css">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@CodePen">
<meta name="twitter:title" content="AudioVis Codevember Part One: The Beginning">
<meta name="twitter:description" content="Welcome to my Codevember. This month I’m going to take you through some audio visualisation techniques in the browser. I’ve written and spoken about this a number of times, as well as made a few...">
<meta name="twitter:image" content="https://gravatar.com/avatar/c08248149e67f2c4f02b8fe32cb9952b?d=https%3A%2F%2Fassets.codepen.io%2Finternal%2Favatars%2Fusers%2Fdefault.png&amp;fit=crop&amp;format=auto&amp;height=80&amp;version=0&amp;width=80">
<meta name="twitter:creator" content="http://www.twitter.com/Rumyra">
<meta property="og:title" content="AudioVis Codevember Part One: The Beginning">
<meta property="og:type" content="article">
<meta property="og:description" content="Welcome to my Codevember. This month I’m going to take you through some audio visualisation techniques in the browser. I’ve written and spoken about this a number of times, as well as made a few...">
<meta property="og:image" content="https://gravatar.com/avatar/c08248149e67f2c4f02b8fe32cb9952b?d=https%3A%2F%2Fassets.codepen.io%2Finternal%2Favatars%2Fusers%2Fdefault.png&amp;fit=crop&amp;format=auto&amp;height=80&amp;version=0&amp;width=80" itemprop="thumbnailUrl">
<meta property="og:url" content="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning">
<meta property="og:site_name" content="CodePen">
<meta property="article:author" content="Rumyra">
<link rel="stylesheet" media="screen" href="./Audio-Vis-Files/highcontrast-dark-ebf64e2dd95a914790e5558297a4fdda15d615c4cc27415ac7624e16f66439b2.css" id="cm-theme">
<link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">
<meta name="apple-mobile-web-app-title" content="CodePen">
<link rel="shortcut icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">
<link rel="mask-icon" type="" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg" color="#111">
<meta name="monetization" content="$ilp.uphold.com/biyqg2MkQKbe">
<script crossorigin="anonymous" integrity="sha256-r7Ut3ao/w4wkLIURp6nSMUUB8d4BKIe7ObvROWUoPEE=" type="text/javascript" src="./Audio-Vis-Files/appcues.main.df5d4e08ed22c145c7c71b63d410ddf4c1e85758.js" async=""></script><script nonce="">
  /* Firefox needs this to prevent FOUT */
</script>
<iframe src="./Audio-Vis-Files/saved_resource.html"></iframe><iframe src="./Audio-Vis-Files/saved_resource(1).html"></iframe><iframe src="./Audio-Vis-Files/saved_resource(2).html"></iframe><link rel="stylesheet" type="text/css" integrity="sha256-q9sKb2HpA5fJjN1cK9LjLaEXff5ix81Rv1Y3xJFptPE=" crossorigin="anonymous" href="./Audio-Vis-Files/container.df5d4e08ed22c145c7c71b63d410ddf4c1e85758.css"><iframe src="./Audio-Vis-Files/saved_resource(3).html"></iframe><style id="_goober"> @keyframes go487993996{from{transform:scale(0) rotate(45deg);opacity:0;}to{transform:scale(1) rotate(45deg);opacity:1;}}@keyframes go1747222846{from{transform:scale(0);opacity:0;}to{transform:scale(1);opacity:1;}}@keyframes go2652833988{from{transform:scale(0) rotate(90deg);opacity:0;}to{transform:scale(1) rotate(90deg);opacity:1;}}@keyframes go1268368563{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}@keyframes go3344466522{0%{height:0;width:0;opacity:0;}40%{height:0;width:6px;opacity:1;}100%{opacity:1;height:10px;}}@keyframes go2190974446{from{transform:scale(0.6);opacity:0.4;}to{transform:scale(1);opacity:1;}}</style><script id="_carbonads_projs" type="text/javascript" src="./Audio-Vis-Files/CK7IVK7U.json"></script><!--<base href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning">--><base href="."></head>
<body class="post-post
    logged-in



    not-team
" data-sidebar-collapsed="false" data-mobile-nav-open="false">
<header id="main-sidebar" class="main-sidebar"><div class="Sidebar_root-2_fvQ"><h1 class="Logo_root-2xoNV" data-test-id="logo"><a href="https://codepen.io/" class="Logo_small-1n__P"><svg viewBox="0 0 100 100"><path d="M100 34.2c-.4-2.6-3.3-4-5.3-5.3-3.6-2.4-7.1-4.7-10.7-7.1-8.5-5.7-17.1-11.4-25.6-17.1-2-1.3-4-2.7-6-4-1.4-1-3.3-1-4.8 0-5.7 3.8-11.5 7.7-17.2 11.5L5.2 29C3 30.4.1 31.8 0 34.8c-.1 3.3 0 6.7 0 10v16c0 2.9-.6 6.3 2.1 8.1 6.4 4.4 12.9 8.6 19.4 12.9 8 5.3 16 10.7 24 16 2.2 1.5 4.4 3.1 7.1 1.3 2.3-1.5 4.5-3 6.8-4.5 8.9-5.9 17.8-11.9 26.7-17.8l9.9-6.6c.6-.4 1.3-.8 1.9-1.3 1.4-1 2-2.4 2-4.1V37.3c.1-1.1.2-2.1.1-3.1 0-.1 0 .2 0 0zM54.3 12.3L88 34.8 73 44.9 54.3 32.4V12.3zm-8.6 0v20L27.1 44.8 12 34.8l33.7-22.5zM8.6 42.8L19.3 50 8.6 57.2V42.8zm37.1 44.9L12 65.2l15-10.1 18.6 12.5v20.1zM50 60.2L34.8 50 50 39.8 65.2 50 50 60.2zm4.3 27.5v-20l18.6-12.5 15 10.1-33.6 22.4zm37.1-30.5L80.7 50l10.8-7.2-.1 14.4z"></path></svg><span class="screen-reader-text">CodePen Home</span></a><a href="https://codepen.io/" class="Logo_large-UYPEU"><svg viewBox="0 0 138 26" fill="none" stroke="#fff" stroke-width="2.3" stroke-linecap="round" stroke-linejoin="round" title="CodePen"><path d="M15 8a7 7 0 100 10m7-8.7L33 2l11 7.3v7.4L33 24l-11-7.3zm0 0l11 7.4 11-7.4m0 7.4L33 9.3l-11 7.4M33 2v7.3m0 7.4V24M52 6h5a7 7 0 010 14h-5zm28 0h-9v14h9m-9-7h6m11 1h6a4 4 0 000-8h-6v14m26-14h-9v14h9m-9-7h6m11 7V6l11 14V6"></path></svg><span class="screen-reader-text">CodePen Home</span></a></h1><div class="SidebarToggle_toggleDesktop--V3Qv"><button class="SidebarToggle_toggle-3UmFg  invisible-button" aria-expanded="true" data-collapsed="false" data-test-id="collapse-button" title="Toggle Navigation"><div class="SidebarToggle_icon-3qPAu" aria-hidden="true"><span></span><svg viewBox="-122.9 121.1 105.9 61.9" width="20" height="20"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></div><span class="screen-reader-text">Navigation Menu Toggle</span></button><div class="SidebarToggle_openBar-2ay8V" data-collapsed="false"></div></div><div class="SidebarToggle_toggleMobile-1unG_"><button class="SidebarToggle_toggle-3UmFg  invisible-button" aria-expanded="false" data-collapsed="true" data-test-id="collapse-button" title="Toggle Navigation"><div class="SidebarToggle_icon-3qPAu" aria-hidden="true"><span></span><svg viewBox="-122.9 121.1 105.9 61.9" width="20" height="20"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></div><span class="screen-reader-text">Navigation Menu Toggle</span></button></div><nav class="navigation-wrap Sidebar_navigationWrap-ZOgFE" role="navigation"><div class="SidebarCreate_root-32O0z"><h2 class="SidebarCreate_createHeading-1iQT2">Create</h2><ul class="SidebarCreate_menu-H0CPD"><li><div class="SidebarCreatePen_root-GgldG"><a href="https://codepen.io/pen/" class="SidebarCreate_createButton-1SyZD SidebarCreate_createButtonPen-CwA1y"><svg viewBox="0 0 20 20" width="20" height="20"><path d="M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"></path></svg>Pen</a><button aria-expanded="false" class="SidebarCreatePen_penDropdownButton-3PwIO"><svg viewBox="-122.9 121.1 105.9 61.9"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></button><ul class="SidebarCreatePen_editorTypeDropdown-4cICs" data-expanded="false"><li class="SidebarCreatePenCustomEditors_editor-1AwmV"><a href="https://codepen.io/pen/" data-test-id="classic-pen"><span class="SidebarCreatePenCustomEditors_editorIcon-3s8G2"><svg viewBox="0 0 100 100" style="fill: white;"><path d="M100 34.2c-.4-2.6-3.3-4-5.3-5.3-3.6-2.4-7.1-4.7-10.7-7.1-8.5-5.7-17.1-11.4-25.6-17.1-2-1.3-4-2.7-6-4-1.4-1-3.3-1-4.8 0-5.7 3.8-11.5 7.7-17.2 11.5L5.2 29C3 30.4.1 31.8 0 34.8c-.1 3.3 0 6.7 0 10v16c0 2.9-.6 6.3 2.1 8.1 6.4 4.4 12.9 8.6 19.4 12.9 8 5.3 16 10.7 24 16 2.2 1.5 4.4 3.1 7.1 1.3 2.3-1.5 4.5-3 6.8-4.5 8.9-5.9 17.8-11.9 26.7-17.8l9.9-6.6c.6-.4 1.3-.8 1.9-1.3 1.4-1 2-2.4 2-4.1V37.3c.1-1.1.2-2.1.1-3.1 0-.1 0 .2 0 0zM54.3 12.3L88 34.8 73 44.9 54.3 32.4V12.3zm-8.6 0v20L27.1 44.8 12 34.8l33.7-22.5zM8.6 42.8L19.3 50 8.6 57.2V42.8zm37.1 44.9L12 65.2l15-10.1 18.6 12.5v20.1zM50 60.2L34.8 50 50 39.8 65.2 50 50 60.2zm4.3 27.5v-20l18.6-12.5 15 10.1-33.6 22.4zm37.1-30.5L80.7 50l10.8-7.2-.1 14.4z"></path></svg></span>Pen</a></li><li class="SidebarCreatePenCustomEditors_editor-1AwmV"><a href="https://codepen.io/pen/editor/vue" data-test-id="vue-pen"><span class="SidebarCreatePenCustomEditors_editorIcon-3s8G2"><img src="./Audio-Vis-Files/vue-logo-7acfd91310ad2aa8593915dd904cf269.svg" alt="Vue Logo"></span>Vue Pen</a></li><li class="SidebarCreatePenCustomEditors_editor-1AwmV"><a href="https://codepen.io/pen/editor/flutter" data-test-id="flutter-pen"><span class="SidebarCreatePenCustomEditors_editorIcon-3s8G2"><img src="./Audio-Vis-Files/flutter-logo-450062ba915d59dc27b60672165284a6.svg" alt="Vue Logo"></span>Flutter Pen</a></li><li><button aria-expanded="false" class="SidebarCreatePen_template-3RCu5" data-test-id="new-pen-from-template"><span class="SidebarCreatePen_editorIcon-39LNP"><svg viewBox="-122.9 121.1 105.9 61.9"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></span>From Template</button></li></ul></div></li><li><a class="SidebarCreate_createButton-1SyZD SidebarCreate_createButtonProject-3KDIn" href="https://codepen.io/project/"><svg viewBox="0 0 20 20"><path d="M7 .995C7 .445 7.447 0 7.999 0H19c.552 0 .999.456.999.995v8.01c0 .55-.447.995-.999.995H8C7.447 10 7 9.544 7 9.005V.995zm0 11.003c0-.551.447-.998.999-.998H19c.552 0 .999.446.999.998v7.004c0 .551-.447.998-.999.998H8A.998.998 0 017 19.002v-7.004zM0 .992C0 .444.451 0 .99 0h4.02c.546 0 .99.455.99.992v18.016a.996.996 0 01-.99.992H.99a.999.999 0 01-.99-.992V.992z"></path></svg>Project</a></li><li><button class="SidebarCreate_createButton-1SyZD SidebarCreate_createButtonCollection-1ePXI" data-test-id="sidebar-create-collection"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect><rect x="10.36" y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect><rect width="9.64" height="9.64" rx="1" ry="1"></rect><rect x="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect></svg>Collection</button></li></ul></div><div class="Sidebar_mainMenuYour-3N_q0 SidebarGroup_root-1SyCC"><a href="https://codepen.io/your-work/" class="Sidebar_link-q5E4c">Your Work</a><a aria-expanded="false" aria-haspopup="true" href="https://codepen.io/activity" class="Sidebar_link-q5E4c">Activity <span class="Sidebar_unseen-3ZfW7">8 NEW</span></a><div class="drawer Drawer_root-2lj8D"><button class="Drawer_close-JE395"><svg viewBox="-122.9 121.1 105.9 61.9"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></button><h3>Activity</h3><a class="ActivityDrawer_allActivityLink-1Jm7D" href="https://codepen.io/activity/social">See All Activity → </a></div><a href="https://codepen.io/assets/" class="Sidebar_link-q5E4c">Assets</a><button aria-expanded="false" aria-haspopup="true" class="Sidebar_link-q5E4c">Pinned Items</button><div class="drawer PinsDrawer_drawer-1b66O Drawer_root-2lj8D"><button class="Drawer_close-JE395"><svg viewBox="-122.9 121.1 105.9 61.9"><path d="M-63.2 180.3l43.5-43.5c1.7-1.7 2.7-4 2.7-6.5s-1-4.8-2.7-6.5c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.7L-69.9 161l-37.2-37.2c-1.7-1.7-4-2.7-6.5-2.7s-4.8 1-6.5 2.6c-1.9 1.8-2.8 4.2-2.8 6.6 0 2.3.9 4.6 2.6 6.5 11.4 11.5 41 41.2 43 43.3l.2.2c3.6 3.6 10.3 3.6 13.9 0z"></path></svg></button><h3>Pinned Items</h3><p class="no-pins-yet">You don't have any <a class="docs-link" href="https://blog.codepen.io/documentation/features/pinned-items/" rel="noopener noreferrer" target="_blank">pinned items</a> yet. You can pin any Pen, Post, or Collection (from their respective pages) for easy access here.</p></div></div><div class="Sidebar_mainMenuExplore-3s9NO SidebarGroup_root-1SyCC"><a href="https://codepen.io/following" class="Sidebar_link-q5E4c">Following</a><a href="https://codepen.io/trending" class="Sidebar_link-q5E4c">Trending</a><a href="https://codepen.io/challenges" class="Sidebar_link-q5E4c">Challenges</a><a href="https://codepen.io/spark" class="Sidebar_link-q5E4c">Spark</a></div><div class="Sidebar_mainMenuGrow-3nT1V SidebarGroup_root-1SyCC"><a class="Sidebar_link-q5E4c" href="https://codepen.io/features/pro" data-test-id="go-pro-sidebar">CodePen <span class="BadgePro-module_root-MbHtT BadgePro-module_svg-2hjVa Badge-module_root-z1waB" data-test-id="pro-badge"><svg fill="none" height="16" viewBox="0 0 32 16" width="32" xmlns="http://www.w3.org/2000/svg" title="PRO"><rect fill="#ffdd40" height="16" rx="1.5" width="32"></rect><g fill="#000"><path d="M9.174 5.598c.834 0 1.214.44 1.214 1.113 0 .76-.422 1.113-1.182 1.113h-.56c-.094 0-.105-.011-.105-.11V5.708c0-.1.01-.11.106-.11zm.106 3.67c.76 0 1.404-.188 1.847-.563.56-.452.855-1.135.855-2.016 0-.893-.317-1.61-.887-2.039-.443-.33-.97-.507-1.857-.507H7.106c-.095 0-.106.011-.106.11v7.494c0 .099.01.11.106.11h1.33c.094 0 .105-.011.105-.11v-2.37c0-.099.01-.11.106-.11zM14.375 9.047c0-.077 0-.11.063-.11.053 0 .074.022.116.088l1.953 2.722c.074.099.084.11.18.11h1.635c.064 0 .095 0 .095-.022a.31.31 0 00-.053-.088c-.707-.96-1.425-1.885-2.132-2.854a.085.085 0 01-.02-.045c0-.022.01-.044.041-.055.95-.286 1.573-1.124 1.573-2.28 0-.96-.454-1.62-1.055-1.973-.539-.32-1.056-.397-1.943-.397H12.94c-.095 0-.105.011-.105.11v7.494c0 .099.02.11.116.11h1.32c.094 0 .105-.011.105-.11zm.654-3.515c.834 0 1.214.418 1.214 1.09 0 .76-.422 1.07-1.182 1.07h-.58c-.096 0-.106-.012-.106-.11v-1.94c0-.1.01-.11.105-.11zM26 8c0-2.182-1.636-4-3.726-4s-3.726 1.818-3.726 4 1.636 4 3.726 4S26 10.182 26 8zm-5.837 0c0-1.311.855-2.402 2.111-2.402 1.256 0 2.111 1.09 2.111 2.402 0 1.311-.855 2.402-2.11 2.402-1.257 0-2.112-1.09-2.112-2.402z"></path></g></svg></span></a></div><div class="SidebarAd_root-1-m88"><div id="ads"><script src="./Audio-Vis-Files/carbon.js" async="" id="_carbonads_js"></script><div id="carbonads"><span><span class="carbon-wrap"><a href="https://srv.carbonads.net/ads/click/x/GTND42JLCVSIP2JYCEBLYKQNCV7I427ICTADKZ3JCY7DCKQWCVBDP5QKC67DV53MCASIC53YFTSDTKJMC67D4K3EHEYIKKJLCAAITK3ECTNCYBZ52K?segment=placement:codepenio;" class="carbon-img" target="_blank" rel="noopener sponsored"><img src="./Audio-Vis-Files/1616613724-DO-Display-260-x-200-DO-blue.jpg" alt="ads via Carbon" border="0" height="100" width="130" style="max-width: 130px;"></a><a href="https://srv.carbonads.net/ads/click/x/GTND42JLCVSIP2JYCEBLYKQNCV7I427ICTADKZ3JCY7DCKQWCVBDP5QKC67DV53MCASIC53YFTSDTKJMC67D4K3EHEYIKKJLCAAITK3ECTNCYBZ52K?segment=placement:codepenio;" class="carbon-text" target="_blank" rel="noopener sponsored">Ship your code to production in just a few clicks. Get $100 free credit.</a></span><a href="http://carbonads.net/?utm_source=codepenio&amp;utm_medium=ad_via_link&amp;utm_campaign=in_unit&amp;utm_term=carbon" class="carbon-poweredby" target="_blank" rel="noopener sponsored">ads via Carbon</a><img src="./Audio-Vis-Files/B25195983.291208485" border="0" height="1" width="1" alt="ads via Carbon" style="display: none;"></span></div></div></div></nav></div></header>
<div id="react-search-and-user-menu"><div class="HeaderBar_searchAndUserMenu-279Oe"><div class="SearchExpander_search-2XfPq"><form aria-labelledby="search-title" data-test-id="search-form" class="search-form search-form-header" action="https://codepen.io/search/pens?q=null/"><label class="search-input-wrap"><h1 id="search-title" class="screen-reader-text">Search</h1><svg viewBox="0 0 56.7 56.7" class="icon-mag"><path d="M42.8 7.3C33-2.4 17.1-2.4 7.3 7.3c-9.8 9.8-9.8 25.7 0 35.5 8.7 8.7 22.2 9.7 32 2.9l9.6 9.6c1.8 1.8 4.7 1.8 6.4 0 1.8-1.8 1.8-4.7 0-6.4l-9.6-9.6c6.8-9.8 5.8-23.3-2.9-32zm-6.2 29.3c-6.4 6.4-16.7 6.4-23.1 0s-6.4-16.7 0-23.1c6.4-6.4 16.7-6.4 23.1 0 6.4 6.4 6.4 16.8 0 23.1z"></path></svg><input autocomplete="off" class="search-input" data-test-id="search-input" name="q" placeholder="Search CodePen..." type="search" value=""></label></form><div class="SearchExpander_searchExpander-1tSnS" data-open="false"><div><div class="SearchExpanderTypeLinks_searchFilters-3fxrl"><a data-search-type="Your Work" data-active="false" href="https://codepen.io/your-work" class="Button-module_root-2XLnp SearchExpanderTypeLinks_filter-2vB8A type-your-stuff"><svg viewBox="0 0 71 89"><path d="M67.783 66.757c-3.771-5.87-8.347-9.685-14.883-11.845 0 0-4.932-2.547-17.825-2.547-12.894 0-17.824 2.547-17.824 2.547C10.713 57.09 6.14 60.887 2.36 66.757.857 69.067.056 73.716 0 76.195c.02.645 0 1.391 0 2.14v4.28-2.954c0 4.734 3.216 8.568 7.188 8.568h55.756c3.972 0 7.188-3.834 7.188-8.568v2.955-4.28c0-.75-.01-1.496 0-2.14-.048-2.48-.86-7.129-2.35-9.439m-52.37-46.875c0 10.972 6.818 27.097 19.653 27.097 12.62 0 19.646-16.125 19.646-27.097C54.711 8.91 45.913 0 35.065 0 24.21 0 15.41 8.91 15.41 19.882"></path></svg>Your Work</a><a data-search-type="Pens" data-active="true" href="https://codepen.io/search/pens" class="Button-module_root-2XLnp SearchExpanderTypeLinks_filter-2vB8A type-pens"><svg viewBox="0 0 20 20"><path d="M0 9.002C0 8.45.455 8 .992 8h18.016c.548 0 .992.456.992 1.002v9.996c0 .553-.455 1.002-.992 1.002H.992C.444 20 0 19.544 0 18.998V9.002zm0-8C0 .45.451 0 .99 0h4.02A.99.99 0 016 1.003v4.994C6 6.551 5.549 7 5.01 7H.99A.99.99 0 010 5.997V1.003zm7 0C7 .45 7.451 0 7.99 0h4.02A.99.99 0 0113 1.003v4.994C13 6.551 12.549 7 12.01 7H7.99A.99.99 0 017 5.997V1.003zm7 0C14 .45 14.451 0 14.99 0h4.02A.99.99 0 0120 1.003v4.994C20 6.551 19.549 7 19.01 7h-4.02A.99.99 0 0114 5.997V1.003z"></path></svg>Pens</a><a data-search-type="Projects" data-active="false" href="https://codepen.io/search/projects" class="Button-module_root-2XLnp SearchExpanderTypeLinks_filter-2vB8A type-projects"><svg viewBox="0 0 20 20"><path d="M7 .995C7 .445 7.447 0 7.999 0H19c.552 0 .999.456.999.995v8.01c0 .55-.447.995-.999.995H8C7.447 10 7 9.544 7 9.005V.995zm0 11.003c0-.551.447-.998.999-.998H19c.552 0 .999.446.999.998v7.004c0 .551-.447.998-.999.998H8A.998.998 0 017 19.002v-7.004zM0 .992C0 .444.451 0 .99 0h4.02c.546 0 .99.455.99.992v18.016a.996.996 0 01-.99.992H.99a.999.999 0 01-.99-.992V.992z"></path></svg>Projects</a><a data-search-type="Collections" data-active="false" href="https://codepen.io/search/collections" class="Button-module_root-2XLnp SearchExpanderTypeLinks_filter-2vB8A type-collections"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect><rect x="10.36" y="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect><rect width="9.64" height="9.64" rx="1" ry="1"></rect><rect x="10.36" width="9.64" height="9.64" rx="1" ry="1"></rect></svg>Collections</a></div></div></div></div><div class="UserMenu_userMenuDropdownParent-353uW"><nav><button class="UserMenu_userMenuButton-2eiYO" aria-haspopup="true" aria-expanded="false" data-test-id="user-menu-button" title="User Menu"><img src="./Audio-Vis-Files/default.png" width="44" height="44" class="user-avatar UserMenu_sessionUserAvatar-1FL4l" data-test-id="user-avatar"><span class="screen-reader-text">User Menu</span></button><ul class="UserMenu_userMenu-1_h1W" data-open="false" data-test-id="user-menu"></ul></nav></div></div></div>
<main>
<article class="post">
<header class="post-header mega-header">
<div class="width-wrapper">
<h1 class="post-title" data-test-id="post-title">AudioVis Codevember Part One: The Beginning</h1>
<div class="content-author">
<a class="avatar-push" href="https://codepen.io/Rumyra/">
<img src="./Audio-Vis-Files/c08248149e67f2c4f02b8fe32cb9952b.jpeg" alt="" width="20" height="20" class="user-avatar">
</a>
<a href="https://codepen.io/Rumyra/">
Rumyra
</a><a href="https://codepen.io/features/pro">
<span style="border-radius: 2px; padding: 1px 6px 2px 5px; color: black; background: var(--yellow); white-space: nowrap; text-shadow: none; letter-spacing: 0; font-size: 71%; position: relative; top: -1px;">PRO</span>
</a>

</div>
<div class="actions-meta">
<div class="meta-line">
<time class="date-block" title="Last updated on Nov  1, 2016">Nov 1, 2016</time>
</div>
</div>
</div>
</header>
<div class="blog-post">
<div class="width-wrapper">
<div class="post-content">
<section class="post-body">
<p>Welcome to my Codevember. This month I’m going to take you through some audio visualisation techniques in the browser. I’ve written and spoken about this a number of times, as well as made a few codepens every now and again, but I thought I would take this month to go over creating audio triggered visuals from the ground up.</p>
<p>Not only do I hope this be a learning journey for you, but one for me as well, there’s been a number of different techniques, new web features, libraries etc… that I’ve wanted to try, it seems like Codevember is the perfect opportunity.</p>
<div class="cp_embed_wrapper"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="300" width="100%" name="cp_embed_1" scrolling="no" src="./Audio-Vis-Files/pEMGEP.html" style="width: 100%; overflow:hidden; display:block;" title="CodePen Embed" loading="lazy" id="cp_embed_pEMGEP"></iframe></div>
<p>We’re going to start vanilla, from the very basics, just using the very minimal we can from the web audio API and some DOM elements, then slowly I’ll start trying some different techniques. By the end we would have covered audio analysing, new css techniques, d3.js which I find is so suited to audio-vis, bringing in some svgs and hopefully some canvas too.</p>
<p>And along with each technique I’ll be taking influence from somewhere different, be that an artist, a book from the <a href="https://www.instagram.com/p/BLWXiGdDDmo/?taken-by=rumyra">stepshelf</a> or some tumblr somewhere.</p>
<p>By the end of the month you’ll understand why audio vis has excited me for all these years, and why the browser can be such an incredible environment for this creativity.</p>
<p>A couple of things to note:</p>
<ul>
<li>This is a learning experience for me too, so things may stay quite basic. The code will probably <em>be</em> basic, however this does mean it won’t be too complicated for entry level coders.</li>
<li>I’ll be analysing audio from the microphone, which means I’ll be using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Media_Streams_API">Media Streams API</a>, which only works over https, you’ll need to view the pens over https://codepen.io</li>
<li>Things work best in Canary so I’ve noticed, please don’t expect pens to work cross browser. The main end game for me is to integrate them into my VJ software, which I run in a sandboxed environment (my machine, my choice of browser) sux I know!</li>
<li>I’ll be cross posting all these articles to both my <a href="https://codepen.io/Rumyra/posts/published/">Codepen Blog</a> and <a href="http://rumyrashead.com/">my personal blog</a>.
<ul>
<li>There's a high chance I won't make every single day, but I will try 🙃</li>
</ul></li>
</ul>
<h2><a class="article-headline-link" href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning#so-lets-begin-0" id="so-lets-begin-0">#</a>So Let’s Begin</h2>
<h3><a class="article-headline-link" href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning#basic-audio-analysis-and-dom-manipulation-1" id="basic-audio-analysis-and-dom-manipulation-1">#</a>Basic audio analysis and DOM manipulation</h3>
<p>Let’s start with the audio things we’re going to need. The audio API can be a bit over whelming. There’s a whole bunch of properties and methods you get when you create a new audio context. There’s inputs, filters, effects… but we can feel a bit better because we only need one piece of functionality - the analyser.</p>
<h4><a class="article-headline-link" href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning#setting-up-the-audio-api-2" id="setting-up-the-audio-api-2">#</a>Setting up the audio API</h4>
<p>Let’s start by creating a new audio context and initiating our variables.</p>
<div class="box"><pre class="lang-javascript has-code" style="position: relative;">  <code class="javascript cm-s-default" data-lang="javascript"><span class="cm-comment">// set up audio context</span>
<span class="cm-keyword">var</span> <span class="cm-def">audioContext</span> <span class="cm-operator">=</span> (<span class="cm-variable">window</span>.<span class="cm-property">AudioContext</span> <span class="cm-operator">||</span> <span class="cm-variable">window</span>.<span class="cm-property">webkitAudioContext</span>);
<span class="cm-comment">// create audio class</span>
<span class="cm-keyword">if</span> (<span class="cm-variable">audioContext</span>) {
  <span class="cm-comment">// Web Audio API is available.</span>
  <span class="cm-keyword">var</span> <span class="cm-def">audioAPI</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">audioContext</span>();
  } <span class="cm-keyword">else</span> {
  <span class="cm-comment">// Web Audio API is not available. Ask the user to use a supported browser.</span>
  <span class="cm-variable">alert</span>(<span class="cm-string">"Oh nos! It appears your browser does not support the Web Audio API, please upgrade or use a different browser"</span>);
}

<span class="cm-comment">// variables</span>
<span class="cm-keyword">var</span> <span class="cm-def">analyserNode</span>,
  <span class="cm-def">frequencyData</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Uint8Array</span>(<span class="cm-number">256</span>);
<span class="cm-keyword">const</span> <span class="cm-def">screen</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">querySelector</span>(<span class="cm-string">'#screen'</span>),
  <span class="cm-def">allRepeatedEls</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">querySelectorAll</span>(<span class="cm-string">'#screen section'</span>),
  <span class="cm-def">totalEls</span> <span class="cm-operator">=</span> <span class="cm-variable">allRepeatedEls</span>.<span class="cm-property">length</span>;
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>Here we’re checking the browser has the audio API available and instantiating a new context <code>var audioAPI</code> for use.</p>
<p>Then we’re just creating a few variables for use later on.</p>
<p>Now we need to hook into the functionality of the analyser node that comes with the audio API. The analyser node comes with methods for us to access both frequency and time data, for what we want we just need the <code>getByteFrequencyData</code> method which we will use later. But as that uses ‘fft’ data (fast fourier transform) we need to set up an array for that data to be saved into, and also set the size. This is where the <code>frequencyData = new Uint8Array(256)</code> comes into play above. A good way to view the size is it’s a bit like resolution - the bigger this array, the more intricate the data and thus the more information about the frequencies heard we can display. This is more than likely set to around 1024, however for the purposes of a simple visualisation like this first one I’m taking you through, 256 more than suffices.</p>
<p>So let’s create and connect our analyser node:</p>
<div class="box"><pre class="lang-javascript has-code" style="position: relative;">  <code class="javascript cm-s-default" data-lang="javascript"><span class="cm-keyword">function</span> <span class="cm-def">createAnalyserNode</span>(<span class="cm-def">audioSource</span>) {
  <span class="cm-variable">analyserNode</span> <span class="cm-operator">=</span> <span class="cm-variable">audioAPI</span>.<span class="cm-property">createAnalyser</span>();
  <span class="cm-variable">analyserNode</span>.<span class="cm-property">fftSize</span> <span class="cm-operator">=</span> <span class="cm-number">512</span>;
  <span class="cm-variable-2">audioSource</span>.<span class="cm-property">connect</span>(<span class="cm-variable">analyserNode</span>);
}
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>Note that the <code>fftSize</code> property has been set to twice the array size we set earlier. The in depth stuff behind fast Fourier transforms are slightly out of the remit of this article, but you can <a href="https://en.wikipedia.org/wiki/Fast_Fourier_transform">read more here</a>.</p>
<p>Another thing to note is we <em>connect</em> the analyser node to the audio source, as all methods within the audio API are are viewed upon as nodes that you connect together. So you can connect inputs to filters to volume nodes to analysers etc…</p>
<h4><a class="article-headline-link" href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning#getting-some-sound-3" id="getting-some-sound-3">#</a>Getting some sound</h4>
<p>Now we want an input for the audio API to analyse, we can just grab the microphone input: (NB this API needs permissions and only works over https or on localhost… just change the codepen url to have https:// at the beginning).</p>
<div class="box"><pre class="lang-javascript has-code" style="position: relative;">  <code class="javascript cm-s-default" data-lang="javascript"><span class="cm-comment">// getUserMedia success callback -&gt; pipe audio stream into audio API</span>
<span class="cm-keyword">var</span> <span class="cm-def">gotStream</span> <span class="cm-operator">=</span> <span class="cm-keyword">function</span>(<span class="cm-def">stream</span>) {
  <span class="cm-comment">// Create an audio input from the stream.</span>
  <span class="cm-keyword">var</span> <span class="cm-def">audioSource</span> <span class="cm-operator">=</span> <span class="cm-variable">audioAPI</span>.<span class="cm-property">createMediaStreamSource</span>(<span class="cm-variable-2">stream</span>);
  <span class="cm-variable">createAnalyserNode</span>(<span class="cm-variable-2">audioSource</span>);
  <span class="cm-variable">animateStuff</span>();
}

<span class="cm-variable">navigator</span>.<span class="cm-property">mediaDevices</span>.<span class="cm-property">getUserMedia</span>({ <span class="cm-property">audio</span>: <span class="cm-atom">true</span>, <span class="cm-property">video</span>: <span class="cm-atom">false</span> })
  .<span class="cm-property">then</span>(<span class="cm-variable">gotStream</span>);
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>We’re calling the <code>gotStream</code> function when we receive an audio stream from the microphone, and within that we’re piping it into the audio API and calling the <code>createAnalyserNode</code> function from above.</p>
<p>So the audio API now is analysing the audio stream from the microphone and we can stop here. But, we kinda want to move something around the browser based on the data we receive.</p>
<h4><a class="article-headline-link" href="https://codepen.io/Rumyra/post/audiovis-codevember-part-one-the-beginning#animating-stuff-4" id="animating-stuff-4">#</a>Animating stuff</h4>
<p>You may have noticed the <code>gotStream</code> function calling <code>animateStuff()</code> which we haven’t written yet. Now here’s the fun part.</p>
<div class="box"><pre class="lang-javascript has-code" style="position: relative;">  <code class="javascript cm-s-default" data-lang="javascript"><span class="cm-keyword">function</span> <span class="cm-def">animateStuff</span>() {
  <span class="cm-variable">requestAnimationFrame</span>(<span class="cm-variable">animateStuff</span>);
    <span class="cm-variable">analyserNode</span>.<span class="cm-property">getByteFrequencyData</span>(<span class="cm-variable">frequencyData</span>);
}
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>This is the start of our awesome animating function. We want it to keep running and analysing the sound, so we’ll use <code>requestAnimationFrame</code> for that. Then we call the <code>getByteFrequencyData</code> method on the analyser node we connected earlier and pass in our frequencyData array. This means at every item in our array represents a frequency and when called a volume level is being logged against that frequency.</p>
<p>The volume, (it’s actually amplitude, but, meh words), is just a number and we can use that number to change things, it’s updating all the time because of our <code>requestAnimationFrame</code>.</p>
<p>So to my inspiration for this set. Let me introduce <a href="https://www.artsy.net/artist/bridget-riley">Bridget Riley</a>. I only discovered her this year on a visit to the <a href="https://www.nationalgalleries.org/visit/introduction-118">Scottish Gallery of Modern Art</a> in Edinburgh - such stunning paintings! I knew as soon as I walked into the exhibition I had to make some of them move!</p>
<p>
<img src="http://rumyrashead.com/media/bridgetBook.jpg" alt="Book from the Bridget Riley Scottish exhibition">
</p>
<p>So let’s start with 'Rattle'. It’s a simple one where we can just create some sections and style them with background gradients and then make them shrink and grow horizontally to the sound.</p>
<p>
<img src="http://rumyrashead.com/media/rattle.jpg" alt="Bridget Riley: Rattle">
</p>
<div class="box"><pre class="lang-xml has-code" style="position: relative;">  <code class="html cm-s-default" data-lang="xml"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"screen"</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span>
<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span>
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<div class="box"><pre class="lang-css has-code" style="position: relative;">  <code class="css cm-s-default" data-lang="css"><span class="cm-builtin">#screen</span> {
  <span class="cm-property">position</span>: <span class="cm-atom">relative</span>; <span class="cm-property">padding</span>:<span class="cm-number">1vh</span>;
    <span class="cm-property">width</span>: <span class="cm-number">100vw</span>; <span class="cm-property">height</span>: <span class="cm-number">100vh</span>;
    <span class="cm-property">box-sizing</span>: <span class="cm-atom">border-box</span>;
    <span class="cm-property">background</span>: <span class="cm-keyword">black</span>;
}
<span class="cm-builtin">#screen</span> <span class="cm-tag">section</span> {
  <span class="cm-property">height</span>:<span class="cm-number">8vh</span>; <span class="cm-property">margin</span>: <span class="cm-number">3vh</span>;
    <span class="cm-property">background-color</span>: <span class="cm-keyword">mediumorchid</span>;
    <span class="cm-property">background-image</span>: <span class="cm-variable cm-callee">linear-gradient</span>(<span class="cm-number">45deg</span>, <span class="cm-keyword">mediumorchid</span> <span class="cm-number">9%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">9%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">16%</span>, <span class="cm-keyword">white</span> <span class="cm-number">16%</span>, <span class="cm-keyword">white</span> <span class="cm-number">34%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">34%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">41%</span>, <span class="cm-keyword">mediumorchid</span> <span class="cm-number">41%</span>, <span class="cm-keyword">mediumorchid</span> <span class="cm-number">59%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">59%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">66%</span>, <span class="cm-keyword">white</span> <span class="cm-number">66%</span>, <span class="cm-keyword">white</span> <span class="cm-number">84%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">84%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">91%</span>, <span class="cm-keyword">mediumorchid</span> <span class="cm-number">91%</span> );
    <span class="cm-property">background-size</span>: <span class="cm-number">2vh</span> <span class="cm-number">2vh</span>;
}
<span class="cm-builtin">#screen</span> <span class="cm-tag">section</span>:<span class="cm-variable cm-callee">nth-of-type</span>(<span class="cm-number">2n</span>) {
  <span class="cm-property">background-image</span>: <span class="cm-variable cm-callee">linear-gradient</span>(<span class="cm-number">135deg</span>, <span class="cm-keyword">indianred</span> <span class="cm-number">9%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">9%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">16%</span>, <span class="cm-keyword">white</span> <span class="cm-number">16%</span>, <span class="cm-keyword">white</span> <span class="cm-number">34%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">34%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">41%</span>, <span class="cm-keyword">indianred</span> <span class="cm-number">41%</span>, <span class="cm-keyword">indianred</span> <span class="cm-number">59%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">59%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">66%</span>, <span class="cm-keyword">white</span> <span class="cm-number">66%</span>, <span class="cm-keyword">white</span> <span class="cm-number">84%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">84%</span>, <span class="cm-keyword">seagreen</span> <span class="cm-number">91%</span>, <span class="cm-keyword">indianred</span> <span class="cm-number">91%</span> );
}
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>Now we have 8 sections, all stretched along our <em>screen</em> div. Let’s loop over them and change their width depending on the volume of a frequency.</p>
<p>You may have noticed already we have 256 frequencies and only 8 sections. There’s a couple of ways we can <em>play</em> this, (sorry), we can either use the first 8 items in the frequency array for the first section and the next 8 for the next and so on, or we can jump 32 items and get a range of 8 frequencies from our spectrum. The choice is yours really - now it’s just about having fun and playing with the maths. Sometimes it also depends on what music you’re playing.</p>
<p>For simplicity, I’m going to jump.</p>
<div class="box"><pre class="lang-javascript has-code" style="position: relative;">  <code class="javascript cm-s-default" data-lang="javascript"><span class="cm-keyword">function</span> <span class="cm-def">animateStuff</span>() {
  <span class="cm-variable">requestAnimationFrame</span>(<span class="cm-variable">animateStuff</span>);
  <span class="cm-variable">analyserNode</span>.<span class="cm-property">getByteFrequencyData</span>(<span class="cm-variable">frequencyData</span>);

  <span class="cm-keyword">for</span> (<span class="cm-keyword">let</span> <span class="cm-def">i</span><span class="cm-operator">=</span><span class="cm-number">0</span>; <span class="cm-variable-2">i</span><span class="cm-operator">&lt;</span><span class="cm-variable">totalEls</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {
    <span class="cm-keyword">var</span> <span class="cm-def">freqVol</span> <span class="cm-operator">=</span> <span class="cm-variable">frequencyData</span>[<span class="cm-variable-2">i</span><span class="cm-operator">*</span><span class="cm-number">32</span>]<span class="cm-operator">/</span><span class="cm-number">2</span>;
    <span class="cm-variable">allRepeatedEls</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">style</span>.<span class="cm-property">width</span> <span class="cm-operator">=</span> <span class="cm-variable-2">freqVol</span><span class="cm-operator">+</span><span class="cm-string">'vw'</span>;
    }

}
</code>
<div class="open_grepper_editor" title="Edit &amp; Save To Grepper"></div></pre></div>
<p>The volume values received back from the analyser node range from 0-255, so I’m dividing by 2 to give rough value for the section to take up.</p>
<p>As the weeks go by we’ll find better, more smoother ways of dealing with the DOM, but for today; huzzah! We made some things move to the music - it plays pretty well to <a href="https://www.youtube.com/watch?v=1plPyJdXKIY">Warrant G and Nate Dog - Regulate</a>, if you were wondering…</p>
</section>
<hr class="end-of-article-sep">
<footer class="end-of-article-footer">
</footer>
</div>
</div>
</div>
<div id="react-post-details" class="post-details-container">
</div></article>
</main>
<div id="react-site-footer"><footer class="SiteFooterStyles_linkFooter-1kxUO" id="link-footer"><div class="width-wrapper SiteFooterStyles_linkFooterInside-1BKiq" id="link-footer-width-wrapper"><nav id="link-footer-codepen-links" aria-label="Links about CodePen"><h4>CodePen</h4><a href="https://codepen.io/about/">About</a><a href="https://blog.codepen.io/">Blog</a><a href="https://blog.codepen.io/radio/">Podcast</a><a href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Advertising</a><a href="https://blog.codepen.io/documentation/">Documentation</a><a href="https://codepen.io/support/">Support</a><a href="https://cottonbureau.com/people/codepen-team">Shop</a></nav><nav id="link-footer-for-links" aria-label="CodePen for different uses"><h4>For</h4><a href="https://codepen.io/features/teams">Teams</a><a href="https://codepen.io/features/education">Education</a><a href="https://codepen.io/features/privacy">Privacy</a><a href="https://codepen.io/features/embeds">Embeds</a><a href="https://codepen.io/features/asset-hosting">Asset Hosting</a></nav><nav id="link-footer-social-links" aria-label="CodePen on Social Media"><h4>Social</h4><a href="https://www.youtube.com/c/CodePenOfficial">YouTube</a><a href="https://twitter.com/CodePen">Twitter</a><a href="https://www.instagram.com/codepen/">Instagram</a></nav><nav id="link-footer-community-links" aria-label="CodePen Community"><h4>Community</h4><a href="https://codepen.io/spark/">Spark</a><a href="https://codepen.io/challenges/">Challenges</a><a href="https://codepen.io/topics/">Topics</a><a href="https://blog.codepen.io/legal/code-conduct/">Code of Conduct</a></nav><div class="SiteFooterStyles_copyright-3_Vmr" id="link-footer-copyright"><h1 class="Logo_root-2xoNV" data-test-id="logo"><a href="https://codepen.io/" class="Logo_small-1n__P"><svg viewBox="0 0 100 100"><path d="M100 34.2c-.4-2.6-3.3-4-5.3-5.3-3.6-2.4-7.1-4.7-10.7-7.1-8.5-5.7-17.1-11.4-25.6-17.1-2-1.3-4-2.7-6-4-1.4-1-3.3-1-4.8 0-5.7 3.8-11.5 7.7-17.2 11.5L5.2 29C3 30.4.1 31.8 0 34.8c-.1 3.3 0 6.7 0 10v16c0 2.9-.6 6.3 2.1 8.1 6.4 4.4 12.9 8.6 19.4 12.9 8 5.3 16 10.7 24 16 2.2 1.5 4.4 3.1 7.1 1.3 2.3-1.5 4.5-3 6.8-4.5 8.9-5.9 17.8-11.9 26.7-17.8l9.9-6.6c.6-.4 1.3-.8 1.9-1.3 1.4-1 2-2.4 2-4.1V37.3c.1-1.1.2-2.1.1-3.1 0-.1 0 .2 0 0zM54.3 12.3L88 34.8 73 44.9 54.3 32.4V12.3zm-8.6 0v20L27.1 44.8 12 34.8l33.7-22.5zM8.6 42.8L19.3 50 8.6 57.2V42.8zm37.1 44.9L12 65.2l15-10.1 18.6 12.5v20.1zM50 60.2L34.8 50 50 39.8 65.2 50 50 60.2zm4.3 27.5v-20l18.6-12.5 15 10.1-33.6 22.4zm37.1-30.5L80.7 50l10.8-7.2-.1 14.4z"></path></svg><span class="screen-reader-text">CodePen Home</span></a><a href="https://codepen.io/" class="Logo_large-UYPEU"><svg viewBox="0 0 138 26" fill="none" stroke="#fff" stroke-width="2.3" stroke-linecap="round" stroke-linejoin="round" title="CodePen"><path d="M15 8a7 7 0 100 10m7-8.7L33 2l11 7.3v7.4L33 24l-11-7.3zm0 0l11 7.4 11-7.4m0 7.4L33 9.3l-11 7.4M33 2v7.3m0 7.4V24M52 6h5a7 7 0 010 14h-5zm28 0h-9v14h9m-9-7h6m11 1h6a4 4 0 000-8h-6v14m26-14h-9v14h9m-9-7h6m11 7V6l11 14V6"></path></svg><span class="screen-reader-text">CodePen Home</span></a></h1><p>©2021 CodePen</p><p class="slogan"><em>Demo or it didn't happen.</em></p></div></div></footer></div>
<div id="popup-overlay" class="overlay popup-overlay"></div>
<div id="modal-overlay" class="overlay modal-overlay"></div>
<noscript>

  <input type="checkbox" class="modal-closing-trick" id="modal-closing-trick">

  <div class="overlay noscript-overlay" style="display: block;"></div>

  <div class="modal modal-message group modal-warning">

    <div class="modal-title">CodePen doesn't work very well without JavaScript.</div>

    <p>We're all for progressive enhancement, but CodePen is a bit unique in that it's all about writing and showing front end code, including JavaScript. It's required to use most of the features of CodePen.</p>

    <p>Need to know how to enable it? <a href="http://enable-javascript.com/" target="_blank" rel="noopener">Go here.</a></p>

    <label class="button button-medium" for="modal-closing-trick">Close this, use anyway.</label>

  </div>

</noscript>
<input type="hidden" id="init-data" value="{&quot;__browser&quot;:{&quot;device&quot;:&quot;unknown_device&quot;,&quot;mobile&quot;:false,&quot;name&quot;:&quot;chrome&quot;,&quot;platform&quot;:&quot;pc&quot;,&quot;version&quot;:&quot;91&quot;},&quot;__constants&quot;:{&quot;gridIframeSandboxAttributes&quot;:&quot;allow-forms allow-modals allow-pointer-lock allow-presentation allow-same-origin allow-scripts&quot;},&quot;__CPDATA&quot;:{&quot;domain_iframe&quot;:&quot;https://cdpn.io&quot;,&quot;environment&quot;:&quot;production&quot;,&quot;host&quot;:&quot;codepen.io&quot;,&quot;iframe_allow&quot;:&quot;accelerometer; camera; encrypted-media; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write&quot;,&quot;iframe_sandbox&quot;:&quot;allow-downloads allow-forms allow-modals allow-pointer-lock allow-popups allow-presentation allow-same-origin allow-scripts allow-top-navigation-by-user-activation&quot;},&quot;__user&quot;:{&quot;anon&quot;:false,&quot;base_url&quot;:&quot;/bgoonz/&quot;,&quot;current_team_id&quot;:0,&quot;current_team_hashid&quot;:null,&quot;hashid&quot;:&quot;XWzENP&quot;,&quot;id&quot;:5160002,&quot;itemType&quot;:&quot;user&quot;,&quot;name&quot;:&quot;Bryan C Guner&quot;,&quot;paid&quot;:false,&quot;tier&quot;:0,&quot;username&quot;:&quot;bgoonz&quot;,&quot;created_at&quot;:&quot;2020-10-09T02:11:35.000Z&quot;,&quot;email_verified&quot;:true,&quot;collections_count&quot;:2,&quot;collections_private_count&quot;:1,&quot;followers_count&quot;:0,&quot;followings_count&quot;:5,&quot;pens_count&quot;:257,&quot;pens_private_count&quot;:0,&quot;projects_count&quot;:1,&quot;projects_private_count&quot;:0},&quot;__firebase&quot;:{&quot;config&quot;:{&quot;apiKey&quot;:&quot;AIzaSyBgLAe7N_MdFpuVofMkcQLGwwhUu5tuxls&quot;,&quot;authDomain&quot;:&quot;codepen-store-production.firebaseapp.com&quot;,&quot;databaseURL&quot;:&quot;https://codepen-store-production.firebaseio.com&quot;,&quot;disabled&quot;:false,&quot;projectId&quot;:&quot;codepen-store-production&quot;},&quot;token&quot;:&quot;eyJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImNsYWltcyI6eyJvd25lcklkIjoiWFd6RU5QIiwiYWRtaW4iOmZhbHNlfSwiZXhwIjoxNjIyNzk1MTcxLCJpYXQiOjE2MjI3OTE1NzEsImlzcyI6ImZpcmViYXNlLWFkbWluc2RrLThva3lsQGNvZGVwZW4tc3RvcmUtcHJvZHVjdGlvbi5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsInN1YiI6ImZpcmViYXNlLWFkbWluc2RrLThva3lsQGNvZGVwZW4tc3RvcmUtcHJvZHVjdGlvbi5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsInVpZCI6IlhXekVOUCJ9.1PXy1GclJbRRww2AzCbNO0cZlOC9nzFvxyj2v04W6oW8zMMo0xhEllU4XZxpu7LPUcm5XO8xwDHlS07WKPcfKPfqu8oaGZHgHGn_mKdt-PgXREsSbMmVreEBzgFQD-92o8u0t1TENxwaBLjpBTJd7Agzul5Hxk7F9V9zQANG9ySnCmjVriSUhsRNGxAOYSkHOr6-IqL0UC2N_4uxRdX8uoi_5J8ztrDtQnB-07Wazfk99bvazxtPuvyzgBZqVGzUWCA-DojROWHnr0u_kgLMlRd73dPcJsxTWeP19qNGiBjFB7O1RVd1C3RpzGeE3ZGJU0C9FQQ-p0ApINz8eTJI8g&quot;},&quot;__graphql&quot;:{&quot;data&quot;:{&quot;sessionUser&quot;:{&quot;id&quot;:&quot;XWzENP&quot;,&quot;name&quot;:&quot;Bryan C Guner&quot;,&quot;avatar80&quot;:&quot;https://assets.codepen.io/5160002/internal/avatars/users/default.png?fit=crop&amp;format=auto&amp;height=80&amp;version=1612640830&amp;width=80&quot;,&quot;avatar512&quot;:&quot;https://assets.codepen.io/5160002/internal/avatars/users/default.png?fit=crop&amp;format=auto&amp;height=512&amp;version=1612640830&amp;width=512&quot;,&quot;currentContext&quot;:{&quot;id&quot;:&quot;XWzENP&quot;,&quot;baseUrl&quot;:&quot;/bgoonz&quot;,&quot;title&quot;:&quot;Bryan C Guner&quot;,&quot;name&quot;:&quot;Bryan C Guner&quot;,&quot;avatar80&quot;:&quot;https://assets.codepen.io/5160002/internal/avatars/users/default.png?fit=crop&amp;format=auto&amp;height=80&amp;version=1612640830&amp;width=80&quot;,&quot;avatar512&quot;:&quot;https://assets.codepen.io/5160002/internal/avatars/users/default.png?fit=crop&amp;format=auto&amp;height=512&amp;version=1612640830&amp;width=512&quot;,&quot;username&quot;:&quot;bgoonz&quot;,&quot;contextType&quot;:&quot;USER&quot;,&quot;projectLimitations&quot;:{&quot;id&quot;:&quot;XWzENP&quot;,&quot;projects&quot;:1,&quot;usedProjects&quot;:1,&quot;__typename&quot;:&quot;ProjectLimitations&quot;},&quot;privateByDefault&quot;:false,&quot;__typename&quot;:&quot;User&quot;},&quot;currentTeamId&quot;:null,&quot;baseUrl&quot;:&quot;/bgoonz&quot;,&quot;username&quot;:&quot;bgoonz&quot;,&quot;admin&quot;:false,&quot;anon&quot;:false,&quot;pro&quot;:false,&quot;verified&quot;:true,&quot;teams&quot;:[],&quot;permissions&quot;:{&quot;id&quot;:&quot;5160002&quot;,&quot;canCreatePrivate&quot;:false,&quot;canUploadAssets&quot;:false,&quot;__typename&quot;:&quot;UserPermissions&quot;},&quot;__typename&quot;:&quot;User&quot;}}},&quot;__pay_stripe_public&quot;:&quot;pk_NgCjQmQs7wXOFmfNC0LKMgEkmlThn&quot;,&quot;__pay_braintree_env&quot;:&quot;production&quot;}">
<script src="./Audio-Vis-Files/everypage-d83c0cabd3dc8c59010fdad0f5edef81daa2842f31a90e59dc4a126155abe0b6.js"></script>
<script src="./Audio-Vis-Files/69186.js"></script>
<script src="./Audio-Vis-Files/analytics_and_notifications-afa6925cbcff840929f2b7c543587d5f9d7a461af81ee7ca80631c8e37ac42f2.js"></script>
<script nonce="">
LUX=(function(){var a=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMarks)?LUX.gaMarks:[]);var d=("undefined"!==typeof(LUX)&&"undefined"!==typeof(LUX.gaMeasures)?LUX.gaMeasures:[]);var j="LUX_start";var k=window.performance;var l=("undefined"!==typeof(LUX)&&LUX.ns?LUX.ns:(Date.now?Date.now():+(new Date())));if(k&&k.timing&&k.timing.navigationStart){l=k.timing.navigationStart}function f(){if(k&&k.now){return k.now()}var o=Date.now?Date.now():+(new Date());return o-l}function b(n){if(k){if(k.mark){return k.mark(n)}else{if(k.webkitMark){return k.webkitMark(n)}}}a.push({name:n,entryType:"mark",startTime:f(),duration:0});return}function m(p,t,n){if("undefined"===typeof(t)&&h(j)){t=j}if(k){if(k.measure){if(t){if(n){return k.measure(p,t,n)}else{return k.measure(p,t)}}else{return k.measure(p)}}else{if(k.webkitMeasure){return k.webkitMeasure(p,t,n)}}}var r=0,o=f();if(t){var s=h(t);if(s){r=s.startTime}else{if(k&&k.timing&&k.timing[t]){r=k.timing[t]-k.timing.navigationStart}else{return}}}if(n){var q=h(n);if(q){o=q.startTime}else{if(k&&k.timing&&k.timing[n]){o=k.timing[n]-k.timing.navigationStart}else{return}}}d.push({name:p,entryType:"measure",startTime:r,duration:(o-r)});return}function h(n){return c(n,g())}function c(p,o){for(i=o.length-1;i>=0;i--){var n=o[i];if(p===n.name){return n}}return undefined}function g(){if(k){if(k.getEntriesByType){return k.getEntriesByType("mark")}else{if(k.webkitGetEntriesByType){return k.webkitGetEntriesByType("mark")}}}return a}return{mark:b,measure:m,gaMarks:a,gaMeasures:d}})();LUX.ns=(Date.now?Date.now():+(new Date()));LUX.ac=[];LUX.cmd=function(a){LUX.ac.push(a)};LUX.init=function(){LUX.cmd(["init"])};LUX.send=function(){LUX.cmd(["send"])};LUX.addData=function(a,b){LUX.cmd(["addData",a,b])};LUX_ae=[];window.addEventListener("error",function(a){LUX_ae.push(a)});LUX_al=[];if("function"===typeof(PerformanceObserver)&&"function"===typeof(PerformanceLongTaskTiming)){var LongTaskObserver=new PerformanceObserver(function(c){var b=c.getEntries();for(var a=0;a<b.length;a++){var d=b[a];LUX_al.push(d)}});try{LongTaskObserver.observe({type:["longtask"]})}catch(e){}};
</script>
<script src="./Audio-Vis-Files/lux.js" async="" defer="" crossorigin="anonymous"></script>
<script src="./Audio-Vis-Files/vendor-3d522a17760472371e48.chunk.js"></script>
<script src="./Audio-Vis-Files/4-7517212adfd2280ac6f8.chunk.js"></script>
<script src="./Audio-Vis-Files/everypage-9c6a8eabef693b224df2.js"></script><div id="react-popups"></div><div id="react-messages"><div style="position: fixed; z-index: 9999;"></div></div><div></div>
<script src="./Audio-Vis-Files/index-8cd17f2dc25e93c0d4484d44724c317772373809a3cc230118af6a5bdd6aa830.js"></script>
<script src="./Audio-Vis-Files/ei-8820f9318835f94eea34.js"></script>


<div></div><div></div><span style="margin: 0px auto; border: 2px dotted rgb(0, 0, 0); position: absolute; z-index: 2147483647; visibility: hidden; left: 708px; width: 0px; top: 708px; height: 0px;"></span><span style="z-index: 2147483647; position: absolute; visibility: hidden; left: 693px; width: 50px; top: 693px; height: 20px; font-size: 10px; color: black;"></span></body></html>
